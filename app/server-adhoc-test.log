 
cds serve all --with-mocks --in-memory? 
41168 watching: cds,csn,csv,ts,mjs,cjs,js,json,properties,edmx,xml,env ... 
ignoring: (.git|node_modules|_out|@types|@cds-models)\\|app(\\.+)?\\((webapp|dist|target)\\|tsconfig\.json$|.*\.tsbuildinfo$)|package-lock\.json$|\\gen\\ 
live reload enabled for browsers 

        ___________________________
 
[cds] - bootstrapping from { file: 'server.js' }
ðŸš€ Bootstrapping CAP server with integration APIs...
âœ… Integration API endpoints registered at /integration
ðŸ”’ Input validation and rate limiting enabled
âœ… Satellite mock system endpoints registered at /satellite-mock
   - POST /satellite-mock/coupa/webhook/mdm-approval
   - POST /satellite-mock/salesforce/webhook/mdm-approval
   - POST /satellite-mock/pi/webhook/mdm-approval
   - POST /satellite-mock/acknowledge (manual ack)
   - GET  /satellite-mock/received-notifications (testing)
[cds] - loaded model from 20 file(s):

  srv\pi-service.cds
  srv\pi-annotations.cds
  srv\coupa-annotations.cds
  node_modules\@sap\cds\srv\outbox.cds
  app\services.cds
  app\satellite-ack\annotations.cds
  app\salesforce-requests\annotations.cds
  app\pi-requests\annotations.cds
  app\mdm-approval\annotations.cds
  app\coupa-requests\annotations.cds
  app\admin-config\annotations.cds
  srv\satellite-acknowledgement-service.cds
  srv\salesforce-service.cds
  srv\mdm-service.cds
  srv\coupa-service.cds
  srv\admin-service.cds
  app\mdm-approval\field-annotations.cds
  srv\common.cds
  db\data-model.cds
  node_modules\@sap\cds\common.cds
[cds] - connect using bindings from: { registry: '~/.cds-services.json' }
[cds] - connect to db > sqlite { url: 'db.sqlite' }
[coupa-service] - Coupa Service initialized
[coupa-service] - Coupa Service initialization complete
DEBUG: NotificationService constructor start
[mdm-service] - MDM Service initialized
[mdm-service] - Registering MDM service handlers...
[mdm-service] - Duplicate check handler registered
[mdm-service] - VIES validation handler registered
[mdm-service] - AEB compliance handler registered
DEBUG: NotificationService constructor start
[mdm-service] - Approval handler registered
[mdm-service] - Status update handler registered
[mdm-service] - All MDM service handlers registered successfully
[mdm-service] - MDM Service initialization complete
[coupa-service] - PI Service initialized
[coupa-service] - PI Service initialization complete
[salesforce-service] - Salesforce Service initialized
[salesforce-service] - Salesforce Service initialization complete
[satellite-ack-service] - âœ… Satellite Acknowledgement Service handler registered
[admin-service] - Admin Service initialized
[admin-service] - Admin Service initialization complete
[cds] - using auth strategy {
  kind: 'dummy',
  impl: 'node_modules\\@sap\\cds\\lib\\srv\\middlewares\\auth\\dummy-auth.js'
}
[cds] - serving AdminService {
  at: [ '/admin' ],
  decl: 'srv\\admin-service.cds:11',
  impl: 'srv\\admin-service.js'
}
[cds] - serving CoupaService {
  at: [ '/coupa' ],
  decl: 'srv\\coupa-service.cds:5',
  impl: 'srv\\coupa-service.js'
}
[cds] - serving MDMService {
  at: [ '/mdm' ],
  decl: 'srv\\mdm-service.cds:5',
  impl: 'srv\\mdm-service.js'
}
[cds] - serving PIService {
  at: [ '/pi' ],
  decl: 'srv\\pi-service.cds:5',
  impl: 'srv\\pi-service.js'
}
[cds] - serving SalesforceService {
  at: [ '/salesforce' ],
  decl: 'srv\\salesforce-service.cds:5',
  impl: 'srv\\salesforce-service.js'
}
[cds] - serving SatelliteAcknowledgementService {
  at: [ '/satellite-ack' ],
  decl: 'srv\\satellite-acknowledgement-service.cds:3',
  impl: 'srv\\satellite-acknowledgement-service.js'
}
[cds] - server listening on { url: 'http://localhost:4004' }
[cds] - server v9.4.4 launched in 2214 ms
ðŸ“§ Using Ethereal test email account: qkg42a73j4fb6mmy@ethereal.email
ðŸ“§ Using Ethereal test email account: d3qsuacrgaomdqqi@ethereal.email
âœ… Email service initialized successfully
âœ… Email service initialized successfully
[odata] - GET /mdm/$metadata { 'sap-language': 'EN' }
[odata] - HEAD /mdm/ 
[odata] - POST /mdm/$batch 
[odata] - > GET /MDMApprovalRequests {
  '$count': 'true',
  '$filter': '(IsActiveEntity eq false or SiblingEntity/IsActiveEntity eq null)',
  '$select': 'HasActiveEntity,ID,IsActiveEntity,createdAt,createdBy,integrationSuiteStatus,name1,requestNumber,requestType,sapInitialStatus,satelliteStatus,sourceSystem,status',
  '$skip': '0',
  '$top': '30'
}
[error] - 500 - SqliteError: no such table: MDMService_MDMApprovalRequests_drafts in:
SELECT json_insert('{}','$."HasActiveEntity"',CASE HasActiveEntity when 1 then 'true' when 0 then 'false' END ->'$','$."ID"',ID,'$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."integrationSuiteStatus"',integrationSuiteStatus,'$."name1"',name1,'$."requestNumber"',requestNumber,'$."requestType"',requestType,'$."sapInitialStatus"',sapInitialStatus,'$."satelliteStatus"',satelliteStatus,'$."sourceSystem"',sourceSystem,'$."status"',status) as _json_ FROM (SELECT "$d".HasActiveEntity,"$d".ID as ID,"$d".createdAt,"$d".createdBy,"$d".integrationSuiteStatus,"$d".name1,"$d".requestNumber,"$d".requestType,"$d".sapInitialStatus,"$d".satelliteStatus,"$d".sourceSystem,"$d".status FROM MDMService_MDMApprovalRequests_drafts as "$d" left JOIN MDMService_DraftAdministrativeData as DraftAdministrativeData ON DraftAdministrativeData.DraftUUID = "$d".DraftAdministrativeData_DraftUUID WHERE DraftAdministrativeData.InProcessByUser = ? ORDER BY ID ASC)
    at Database.prepare (C:\Users\msudarsanan\Desktop\GitHub\businesspartner\node_modules\better-sqlite3\lib\methods\wrappers.js:5:21)
    at SQLiteService.prepare (C:\Users\msudarsanan\Desktop\GitHub\businesspartner\node_modules\@cap-js\sqlite\lib\SQLiteService.js:72:29)
    at SQLiteService.onSELECT (C:\Users\msudarsanan\Desktop\GitHub\businesspartner\node_modules\@cap-js\sqlite\node_modules\@cap-js\db-service\lib\SQLService.js:137:25)
    at next (C:\Users\msudarsanan\Desktop\GitHub\businesspartner\node_modules\@sap\cds\lib\srv\srv-dispatch.js:57:36)
    at SQLiteService.handle (C:\Users\msudarsanan\Desktop\GitHub\businesspartner\node_modules\@sap\cds\lib\srv\srv-dispatch.js:60:6)
    at SQLiteService.dispatch (C:\Users\msudarsanan\Desktop\GitHub\businesspartner\node_modules\@sap\cds\lib\srv\srv-dispatch.js:27:15)
    at SQLiteService._begin (C:\Users\msudarsanan\Desktop\GitHub\businesspartner\node_modules\@sap\cds\lib\srv\srv-tx.js:198:15)
    at async ApplicationService.handle_crud_requests (C:\Users\msudarsanan\Desktop\GitHub\businesspartner\node_modules\@sap\cds\libx\_runtime\common\generic\crud.js:57:20)
    at async next (C:\Users\msudarsanan\Desktop\GitHub\businesspartner\node_modules\@sap\cds\lib\srv\srv-dispatch.js:57:17) {
  code: 'SQLITE_ERROR',
  query: `SELECT json_insert('{}','$."HasActiveEntity"',CASE HasActiveEntity when 1 then 'true' when 0 then 'false' END ->'$','$."ID"',ID,'$."createdAt"',createdAt,'$."createdBy"',createdBy,'$."integrationSuiteStatus"',integrationSuiteStatus,'$."name1"',name1,'$."requestNumber"',requestNumber,'$."requestType"',requestType,'$."sapInitialStatus"',sapInitialStatus,'$."satelliteStatus"',satelliteStatus,'$."sourceSystem"',sourceSystem,'$."status"',status) as _json_ FROM (SELECT "$d".HasActiveEntity,"$d".ID as ID,"$d".createdAt,"$d".createdBy,"$d".integrationSuiteStatus,"$d".name1,"$d".requestNumber,"$d".requestType,"$d".sapInitialStatus,"$d".satelliteStatus,"$d".sourceSystem,"$d".status FROM MDMService_MDMApprovalRequests_drafts as "$d" left JOIN MDMService_DraftAdministrativeData as DraftAdministrativeData ON DraftAdministrativeData.DraftUUID = "$d".DraftAdministrativeData_DraftUUID WHERE DraftAdministrativeData.InProcessByUser = ? ORDER BY ID ASC)`
}
[odata] - POST /mdm/$batch 
[odata] - > GET /validateAndFetchSAPBP(sapBpNumber='0000100001') 
[mdm-service] - validateAndFetchSAPBP called { sapBpNumber: '0000100001' }
[sap-partner] - Fetching SAP Partner Details { sapBpNumber: '0000100001' }
[sap-partner] - Error fetching partner details {
  sapBpNumber: '0000100001',
  error: 'no such table: mdm_db_ExistingPartners in:\n' +
    `SELECT json_insert('{}','$."ID"',ID,'$."sapBpNumber"',sapBpNumber,'$."partnerName"',partnerName,'$."partnerType"',partnerType,'$."status"',status,'$."establishedAddress"',establishedAddress,'$."establishedVatId"',establishedVatId,'$."establishedCountry"',establishedCountry,'$."createdAt"',substr(createdAt,0,20)||'Z','$."lastUpdated"',substr(lastUpdated,0,20)||'Z','$."sourceSystem"',sourceSystem,'$."searchTerms"',searchTerms,'$."allVatIds"',allVatIds,'$."allAddresses"',allAddresses,'$."businessChannels"',businessChannels) as _json_ FROM (SELECT "$E".ID,"$E".sapBpNumber,"$E".partnerName,"$E".partnerType,"$E".status,"$E".establishedAddress,"$E".establishedVatId,"$E".establishedCountry,"$E".createdAt,"$E".lastUpdated,"$E".sourceSystem,"$E".searchTerms,"$E".allVatIds,"$E".allAddresses,"$E".businessChannels FROM mdm_db_ExistingPartners as "$E" WHERE "$E".sapBpNumber = ? LIMIT ?)`
}
[mdm-service] - validateAndFetchSAPBP error {
  sapBpNumber: '0000100001',
  error: 'no such table: mdm_db_ExistingPartners in:\n' +
    `SELECT json_insert('{}','$."ID"',ID,'$."sapBpNumber"',sapBpNumber,'$."partnerName"',partnerName,'$."partnerType"',partnerType,'$."status"',status,'$."establishedAddress"',establishedAddress,'$."establishedVatId"',establishedVatId,'$."establishedCountry"',establishedCountry,'$."createdAt"',substr(createdAt,0,20)||'Z','$."lastUpdated"',substr(lastUpdated,0,20)||'Z','$."sourceSystem"',sourceSystem,'$."searchTerms"',searchTerms,'$."allVatIds"',allVatIds,'$."allAddresses"',allAddresses,'$."businessChannels"',businessChannels) as _json_ FROM (SELECT "$E".ID,"$E".sapBpNumber,"$E".partnerName,"$E".partnerType,"$E".status,"$E".establishedAddress,"$E".establishedVatId,"$E".establishedCountry,"$E".createdAt,"$E".lastUpdated,"$E".sourceSystem,"$E".searchTerms,"$E".allVatIds,"$E".allAddresses,"$E".businessChannels FROM mdm_db_ExistingPartners as "$E" WHERE "$E".sapBpNumber = ? LIMIT ?)`
}

        ___________________________
 
[cds] - bootstrapping from { file: 'server.js' }
ðŸš€ Bootstrapping CAP server with integration APIs...
âœ… Integration API endpoints registered at /integration
ðŸ”’ Input validation and rate limiting enabled
âœ… Satellite mock system endpoints registered at /satellite-mock
   - POST /satellite-mock/coupa/webhook/mdm-approval
   - POST /satellite-mock/salesforce/webhook/mdm-approval
   - POST /satellite-mock/pi/webhook/mdm-approval
   - POST /satellite-mock/acknowledge (manual ack)
   - GET  /satellite-mock/received-notifications (testing)
[cds] - loaded model from 20 file(s):

  srv\pi-service.cds
  srv\pi-annotations.cds
  srv\coupa-annotations.cds
  node_modules\@sap\cds\srv\outbox.cds
  app\services.cds
  app\satellite-ack\annotations.cds
  app\salesforce-requests\annotations.cds
  app\pi-requests\annotations.cds
  app\mdm-approval\annotations.cds
  app\coupa-requests\annotations.cds
  app\admin-config\annotations.cds
  srv\satellite-acknowledgement-service.cds
  srv\salesforce-service.cds
  srv\mdm-service.cds
  srv\coupa-service.cds
  srv\admin-service.cds
  app\mdm-approval\field-annotations.cds
  srv\common.cds
  db\data-model.cds
  node_modules\@sap\cds\common.cds
[cds] - connect using bindings from: { registry: '~/.cds-services.json' }
[cds] - connect to db > sqlite { url: 'db.sqlite' }
[coupa-service] - Coupa Service initialized
[coupa-service] - Coupa Service initialization complete
DEBUG: NotificationService constructor start
[mdm-service] - MDM Service initialized
[mdm-service] - Registering MDM service handlers...
[mdm-service] - Duplicate check handler registered
[mdm-service] - VIES validation handler registered
[mdm-service] - AEB compliance handler registered
DEBUG: NotificationService constructor start
[mdm-service] - Approval handler registered
[mdm-service] - Status update handler registered
[mdm-service] - All MDM service handlers registered successfully
[mdm-service] - MDM Service initialization complete
[coupa-service] - PI Service initialized
[coupa-service] - PI Service initialization complete
[salesforce-service] - Salesforce Service initialized
[salesforce-service] - Salesforce Service initialization complete
[satellite-ack-service] - âœ… Satellite Acknowledgement Service handler registered
[admin-service] - Admin Service initialized
[admin-service] - Admin Service initialization complete
[cds] - using auth strategy {
  kind: 'dummy',
  impl: 'node_modules\\@sap\\cds\\lib\\srv\\middlewares\\auth\\dummy-auth.js'
}
[cds] - serving AdminService {
  at: [ '/admin' ],
  decl: 'srv\\admin-service.cds:11',
  impl: 'srv\\admin-service.js'
}
[cds] - serving CoupaService {
  at: [ '/coupa' ],
  decl: 'srv\\coupa-service.cds:5',
  impl: 'srv\\coupa-service.js'
}
[cds] - serving MDMService {
  at: [ '/mdm' ],
  decl: 'srv\\mdm-service.cds:5',
  impl: 'srv\\mdm-service.js'
}
[cds] - serving PIService {
  at: [ '/pi' ],
  decl: 'srv\\pi-service.cds:5',
  impl: 'srv\\pi-service.js'
}
[cds] - serving SalesforceService {
  at: [ '/salesforce' ],
  decl: 'srv\\salesforce-service.cds:5',
  impl: 'srv\\salesforce-service.js'
}
[cds] - serving SatelliteAcknowledgementService {
  at: [ '/satellite-ack' ],
  decl: 'srv\\satellite-acknowledgement-service.cds:3',
  impl: 'srv\\satellite-acknowledgement-service.js'
}
[cds] - server listening on { url: 'http://localhost:4004' }
[cds] - server v9.4.4 launched in 2735 ms

        ___________________________
 
[cds] - bootstrapping from { file: 'server.js' }
ðŸš€ Bootstrapping CAP server with integration APIs...
âœ… Integration API endpoints registered at /integration
ðŸ”’ Input validation and rate limiting enabled
âœ… Satellite mock system endpoints registered at /satellite-mock
   - POST /satellite-mock/coupa/webhook/mdm-approval
   - POST /satellite-mock/salesforce/webhook/mdm-approval
   - POST /satellite-mock/pi/webhook/mdm-approval
   - POST /satellite-mock/acknowledge (manual ack)
   - GET  /satellite-mock/received-notifications (testing)
[cds] - loaded model from 20 file(s):

  srv\pi-service.cds
  srv\pi-annotations.cds
  srv\coupa-annotations.cds
  node_modules\@sap\cds\srv\outbox.cds
  app\services.cds
  app\satellite-ack\annotations.cds
  app\salesforce-requests\annotations.cds
  app\pi-requests\annotations.cds
  app\mdm-approval\annotations.cds
  app\coupa-requests\annotations.cds
  app\admin-config\annotations.cds
  srv\satellite-acknowledgement-service.cds
  srv\salesforce-service.cds
  srv\mdm-service.cds
  srv\coupa-service.cds
  srv\admin-service.cds
  app\mdm-approval\field-annotations.cds
  srv\common.cds
  db\data-model.cds
  node_modules\@sap\cds\common.cds
[cds] - connect using bindings from: { registry: '~/.cds-services.json' }
[cds] - connect to db > sqlite { url: 'db.sqlite' }
[coupa-service] - Coupa Service initialized
[coupa-service] - Coupa Service initialization complete
DEBUG: NotificationService constructor start
[mdm-service] - MDM Service initialized
[mdm-service] - Registering MDM service handlers...
[mdm-service] - Duplicate check handler registered
[mdm-service] - VIES validation handler registered
[mdm-service] - AEB compliance handler registered
DEBUG: NotificationService constructor start
[mdm-service] - Approval handler registered
[mdm-service] - Status update handler registered
[mdm-service] - All MDM service handlers registered successfully
[mdm-service] - MDM Service initialization complete
[coupa-service] - PI Service initialized
[coupa-service] - PI Service initialization complete
[salesforce-service] - Salesforce Service initialized
[salesforce-service] - Salesforce Service initialization complete
[satellite-ack-service] - âœ… Satellite Acknowledgement Service handler registered
[admin-service] - Admin Service initialized
[admin-service] - Admin Service initialization complete
[cds] - using auth strategy {
  kind: 'dummy',
  impl: 'node_modules\\@sap\\cds\\lib\\srv\\middlewares\\auth\\dummy-auth.js'
}
[cds] - serving AdminService {
  at: [ '/admin' ],
  decl: 'srv\\admin-service.cds:11',
  impl: 'srv\\admin-service.js'
}
[cds] - serving CoupaService {
  at: [ '/coupa' ],
  decl: 'srv\\coupa-service.cds:5',
  impl: 'srv\\coupa-service.js'
}
[cds] - serving MDMService {
  at: [ '/mdm' ],
  decl: 'srv\\mdm-service.cds:5',
  impl: 'srv\\mdm-service.js'
}
[cds] - serving PIService {
  at: [ '/pi' ],
  decl: 'srv\\pi-service.cds:5',
  impl: 'srv\\pi-service.js'
}
[cds] - serving SalesforceService {
  at: [ '/salesforce' ],
  decl: 'srv\\salesforce-service.cds:5',
  impl: 'srv\\salesforce-service.js'
}
[cds] - serving SatelliteAcknowledgementService {
  at: [ '/satellite-ack' ],
  decl: 'srv\\satellite-acknowledgement-service.cds:3',
  impl: 'srv\\satellite-acknowledgement-service.js'
}

  [EADDRINUSE] - port 4004 is already in use by another server process.
  > Press Return to restart with an arbitrary port.

ðŸ“§ Using Ethereal test email account: omb4767hj4dji46v@ethereal.email
ðŸ“§ Using Ethereal test email account: lylnmb3zic4rpqsa@ethereal.email
âœ… Email service initialized successfully
âœ… Email service initialized successfully

        ___________________________
 
[cds] - bootstrapping from { file: 'server.js' }
ðŸš€ Bootstrapping CAP server with integration APIs...
âœ… Integration API endpoints registered at /integration
ðŸ”’ Input validation and rate limiting enabled
âœ… Satellite mock system endpoints registered at /satellite-mock
   - POST /satellite-mock/coupa/webhook/mdm-approval
   - POST /satellite-mock/salesforce/webhook/mdm-approval
   - POST /satellite-mock/pi/webhook/mdm-approval
   - POST /satellite-mock/acknowledge (manual ack)
   - GET  /satellite-mock/received-notifications (testing)
[cds] - loaded model from 20 file(s):

  srv\pi-service.cds
  srv\pi-annotations.cds
  srv\coupa-annotations.cds
  node_modules\@sap\cds\srv\outbox.cds
  app\services.cds
  app\satellite-ack\annotations.cds
  app\salesforce-requests\annotations.cds
  app\pi-requests\annotations.cds
  app\mdm-approval\annotations.cds
  app\coupa-requests\annotations.cds
  app\admin-config\annotations.cds
  srv\satellite-acknowledgement-service.cds
  srv\salesforce-service.cds
  srv\mdm-service.cds
  srv\coupa-service.cds
  srv\admin-service.cds
  app\mdm-approval\field-annotations.cds
  srv\common.cds
  db\data-model.cds
  node_modules\@sap\cds\common.cds
[cds] - connect using bindings from: { registry: '~/.cds-services.json' }
[cds] - connect to db > sqlite { url: 'db.sqlite' }
[coupa-service] - Coupa Service initialized
[coupa-service] - Coupa Service initialization complete
DEBUG: NotificationService constructor start
[mdm-service] - MDM Service initialized
[mdm-service] - Registering MDM service handlers...
[mdm-service] - Duplicate check handler registered
[mdm-service] - VIES validation handler registered
[mdm-service] - AEB compliance handler registered
DEBUG: NotificationService constructor start
[mdm-service] - Approval handler registered
[mdm-service] - Status update handler registered
[mdm-service] - All MDM service handlers registered successfully
[mdm-service] - MDM Service initialization complete
[coupa-service] - PI Service initialized
[coupa-service] - PI Service initialization complete
[salesforce-service] - Salesforce Service initialized
[salesforce-service] - Salesforce Service initialization complete
[satellite-ack-service] - âœ… Satellite Acknowledgement Service handler registered
[admin-service] - Admin Service initialized
[admin-service] - Admin Service initialization complete
[cds] - using auth strategy {
  kind: 'dummy',
  impl: 'node_modules\\@sap\\cds\\lib\\srv\\middlewares\\auth\\dummy-auth.js'
}
[cds] - serving AdminService {
  at: [ '/admin' ],
  decl: 'srv\\admin-service.cds:11',
  impl: 'srv\\admin-service.js'
}
[cds] - serving CoupaService {
  at: [ '/coupa' ],
  decl: 'srv\\coupa-service.cds:5',
  impl: 'srv\\coupa-service.js'
}
[cds] - serving MDMService {
  at: [ '/mdm' ],
  decl: 'srv\\mdm-service.cds:5',
  impl: 'srv\\mdm-service.js'
}
[cds] - serving PIService {
  at: [ '/pi' ],
  decl: 'srv\\pi-service.cds:5',
  impl: 'srv\\pi-service.js'
}
[cds] - serving SalesforceService {
  at: [ '/salesforce' ],
  decl: 'srv\\salesforce-service.cds:5',
  impl: 'srv\\salesforce-service.js'
}
[cds] - serving SatelliteAcknowledgementService {
  at: [ '/satellite-ack' ],
  decl: 'srv\\satellite-acknowledgement-service.cds:3',
  impl: 'srv\\satellite-acknowledgement-service.js'
}
[cds] - server listening on { url: 'http://localhost:49676' }
[cds] - server v9.4.4 launched in 3839 ms
ðŸ“§ Using Ethereal test email account: g6dxkks7qjh3pjz4@ethereal.email
ðŸ“§ Using Ethereal test email account: rfelpcqp4yy7cyyy@ethereal.email
âœ… Email service initialized successfully
âœ… Email service initialized successfully
