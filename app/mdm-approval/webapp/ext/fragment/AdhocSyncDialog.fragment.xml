<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:form="sap.ui.layout.form">
    <Dialog
        id="adhocSyncDialog"
        title="Create Adhoc Sync Request"
        contentWidth="600px"
        resizable="true"
        draggable="true">
        <content>
            <form:SimpleForm
                id="adhocSyncForm"
                editable="true"
                layout="ResponsiveGridLayout"
                labelSpanXL="4"
                labelSpanL="4"
                labelSpanM="4"
                labelSpanS="12"
                adjustLabelSpan="false"
                emptySpanXL="0"
                emptySpanL="0"
                emptySpanM="0"
                emptySpanS="0"
                columnsXL="1"
                columnsL="1"
                columnsM="1"
                singleContainerFullSize="false">
                <form:content>
                    <!-- SAP Business Partner Number -->
                    <Label text="SAP BP Number" required="true" />
                    <HBox>
                        <Input
                            id="sapBpNumberInput"
                            placeholder="Enter SAP BP Number (e.g., 1000001)"
                            width="300px"
                            maxLength="10"
                            required="true"
                            change=".onSAPBpNumberChange"
                            valueLiveUpdate="false" />
                        <Button
                            id="validateButton"
                            text="Validate"
                            icon="sap-icon://accept"
                            type="Emphasized"
                            press=".onValidateSAPBP"
                            class="sapUiTinyMarginBegin" />
                    </HBox>

                    <!-- Partner Name (read-only, auto-filled after validation) -->
                    <Label text="Partner Name" />
                    <Text
                        id="partnerNameText"
                        text="{adhocSync>/bpName}"
                        class="sapUiSmallMarginBottom" />

                    <!-- Partner Type (read-only, auto-filled after validation) -->
                    <Label text="Partner Type" />
                    <Text
                        id="partnerTypeText"
                        text="{adhocSync>/bpType}"
                        class="sapUiSmallMarginBottom" />

                    <!-- Target System (dropdown) -->
                    <Label text="Target System" required="true" />
                    <Select
                        id="targetSystemSelect"
                        width="300px"
                        required="true"
                        selectedKey="{adhocSync>/targetSystem}">
                        <core:Item key="Coupa" text="Coupa" />
                        <core:Item key="Salesforce" text="Salesforce" />
                        <core:Item key="PI" text="PI" />
                    </Select>

                    <!-- Reason (mandatory text area) -->
                    <Label text="Reason" required="true" />
                    <TextArea
                        id="adhocReasonTextArea"
                        value="{adhocSync>/adhocReason}"
                        placeholder="Enter reason for adhoc sync (e.g., Automation failed due to timeout)"
                        width="100%"
                        rows="4"
                        maxLength="1000"
                        required="true"
                        showExceededText="true" />
                </form:content>
            </form:SimpleForm>

            <!-- Validation Message Strip (hidden by default) -->
            <MessageStrip
                id="validationMessageStrip"
                visible="false"
                showIcon="true"
                class="sapUiSmallMargin" />
        </content>
        <beginButton>
            <Button
                id="createRequestButton"
                text="Create Request"
                type="Emphasized"
                press=".onCreateAdhocSyncRequest"
                enabled="{adhocSync>/isValid}" />
        </beginButton>
        <endButton>
            <Button
                id="cancelButton"
                text="Cancel"
                press=".onCancelAdhocSync" />
        </endButton>
    </Dialog>
</core:FragmentDefinition>
